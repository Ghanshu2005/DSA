AIM:
In any language program mostly syntax error occurs 
due to unbalancing delimiter such as (),{},[].
Write C++ program using stack to check whether 
given expression is well parenthesized or not.

INPUT: An expression as string
OUTPUT: 
Display whether an expression is well parenthesized or not

#include <iostream>
using namespace std;

#define MAX 50

// Stack class
class Stack {
private:
    char stk[MAX];
    int top;

public:
    Stack() {
        top = -1;
    }

    bool isEmpty() {
        return (top == -1);
    }

    bool isFull() {
        return (top == MAX - 1);
    }

    void push(char ch) {
        if (!isFull()) {
            stk[++top] = ch;
        }
    }

    char pop() {
        if (!isEmpty()) {
            return stk[top--];
        }
        return '\0';
    }
};

// Expression checking class
class Expression {
private:
    char exp[100];

public:
    void readExpression() {
        cout << "Enter expression: ";
        cin.getline(exp, 100);
    }

    void displayExpression() {
        cout << "Expression is: " << exp << endl;
    }

    void checkExpression() {
        Stack s;
        char ch;

        for (int i = 0; exp[i] != '\0'; i++) {

            // Push opening brackets
            if (exp[i] == '(' || exp[i] == '{' || exp[i] == '[') {
                s.push(exp[i]);
            }

            // Check closing brackets
            else if (exp[i] == ')' || exp[i] == '}' || exp[i] == ']') {

                if (s.isEmpty()) {
                    cout << "Expression is NOT well formed\n";
                    return;
                }

                ch = s.pop();

                if ((exp[i] == ')' && ch != '(') ||
                    (exp[i] == '}' && ch != '{') ||
                    (exp[i] == ']' && ch != '[')) {
                    cout << "Expression is NOT well formed\n";
                    return;
                }
            }
        }

        // Stack should be empty at end
        if (s.isEmpty())
            cout << "Expression is well formed\n";
        else
            cout << "Expression is NOT well formed\n";
    }
};

int main() {
    Expression e;
    int choice;

    do {
        cout << "\n--- Expression Parsing ---\n";
        cout << "1. Read Expression\n";
        cout << "2. Display Expression\n";
        cout << "3. Check Expression\n";
        cout << "4. Exit\n";
        cout << "Enter choice: ";
        cin >> choice;
        cin.ignore();

        switch (choice) {
        case 1:
            e.readExpression();
            break;
        case 2:
            e.displayExpression();
            break;
        case 3:
            e.checkExpression();
            break;
        case 4:
            cout << "Thank you!\n";
            break;
        default:
            cout << "Invalid choice\n";
        }
    } while (choice != 4);

    return 0;
}
